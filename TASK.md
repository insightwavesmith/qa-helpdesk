# TASK.md — QA 피드백 수정 (Phase 1+2 보완)

> bkit PDCA 기준 | 2026-02-09 | Smith님 QA 피드백 반영
> 각 Task마다: Plan 확인 → Design 간략 → Do → Check → Act

---

## 절대 규칙
1. **작동하는 기능 건드리지 않기** — Q&A 답변, 리드 관리, 광고 계정
2. **Design 없이 코드 작성 금지**
3. **한국어 UI only, #F75D5D, Pretendard, Light mode**

---

## Task 1: 용어 변경 — "뉴스레터" → "최신정보"

**담당**: frontend-dev
**예상**: 30분

**Do**:
- 정보공유 페이지 `/posts` 탭: "뉴스레터" → "최신정보"
- 콘텐츠 관리 `/admin/content` 카테고리 라벨: "뉴스레터" → "최신정보"
- 이메일 발송 페이지 관련 라벨도 변경
- DB enum(`newsletter`)은 그대로 유지 — UI 라벨만 변경

**완료 기준**:
- [ ] 사용자에게 보이는 모든 "뉴스레터" → "최신정보"로 변경
- [ ] DB enum은 `newsletter` 유지

---

## Task 2: 콘텐츠→이메일 연동 버그 수정

**담당**: frontend-dev + backend-dev
**예상**: 1시간

**Do**:
- `/admin/email?content_id=xxx` 접근 시 해당 콘텐츠만 로드되는지 확인
- 현재 "정보공유 데이터가 전부 날아옴" → content_id 기반 단일 콘텐츠 로드로 수정
- 콘텐츠 관리에서 "발송" 버튼 클릭 시 `/admin/email?content_id={해당ID}` 이동 확인

**완료 기준**:
- [ ] content_id로 특정 콘텐츠 1건만 이메일 본문에 로드
- [ ] 콘텐츠 관리 "발송" 버튼 → 해당 글만 이메일에 표시

---

## Task 3: Q&A 질문 버튼 — member 안내 문구

**담당**: frontend-dev
**예상**: 30분

**Do**:
- member 역할: 질문하기 버튼 **보이게** (현재는 숨김)
- 클릭 시 모달 또는 토스트: "수강생만 질문이 가능합니다"
- CTA 추가: "수강 안내 보기" 링크 (외부 수강 페이지 또는 안내)
- API 레벨 체크는 유지 (member → 403)

**완료 기준**:
- [ ] member로 Q&A 접근 시 "질문하기" 버튼 보임
- [ ] 클릭 시 "수강생만 질문이 가능합니다" 안내
- [ ] "수강 안내 보기" CTA 포함

---

## Task 4: 총가치각도기 — 샘플 데이터 + 잠금 오버레이

**담당**: frontend-dev
**예상**: 1~2시간

**Do**:
- member가 `/protractor` 접근 시:
  - 리다이렉트 대신 페이지 표시
  - 기존 더미 데이터 대시보드 렌더링 (읽기 전용)
  - 상단에 잠금 오버레이: "수강생만 실제로 이용 가능합니다" + 반투명 배경
  - "수강 안내 보기" CTA 버튼
- 실제 데이터 API 호출하지 않음 (더미만 표시)

**완료 기준**:
- [ ] member → /protractor에서 샘플 대시보드 보임
- [ ] 상단 "수강생만 실제로 이용 가능합니다" 오버레이
- [ ] 수강 안내 CTA

---

## Task 5: 비회원 접근 안내 페이지

**담당**: frontend-dev
**예상**: 30분

**Do**:
- 비로그인 사용자가 보호된 페이지(Q&A, 정보공유, 총가치각도기 등) 접근 시:
  - 현재: 그냥 /login으로 리다이렉트
  - 변경: "회원만 이용이 가능합니다" 안내 + 로그인/회원가입 버튼 표시
  - 간단한 안내 컴포넌트 (AccessDenied) 생성

**완료 기준**:
- [ ] 비로그인 상태에서 /questions 접근 → "회원만 이용 가능합니다" 안내
- [ ] 로그인 / 회원가입 버튼 포함

---

## Task 6: 구독 유저 관리 탭

**담당**: frontend-dev + backend-dev
**예상**: 1~2시간

**Do**:
- `/admin/members` (회원 관리) 또는 `/admin/email`에 "구독 유저" 탭 추가
- leads 테이블에서 source='newsletter_subscribe' 또는 email_opted_out != true인 목록
- 표시: 이름, 이메일, 구독일, 수신거부 여부
- 총 구독자 수 표시

**완료 기준**:
- [ ] 관리자가 구독 유저 목록 확인 가능
- [ ] 수신거부 여부 표시
- [ ] 총 구독자 수 표시

---

## Task 7: 이메일 하단 수신거부 링크 확인

**담당**: backend-dev
**예상**: 30분

**Do**:
- 이메일 템플릿(React Email)에 수신거부 링크 포함 확인
- 링크: `{BASE_URL}/unsubscribe?token={base64(email)}`
- 없으면 추가

**완료 기준**:
- [ ] 발송되는 이메일 하단에 "수신거부" 링크 있음
- [ ] 클릭 시 /unsubscribe 페이지로 이동

---

## 완료 알림

모든 Task 완료 후:
```bash
openclaw gateway wake --text 'QA 피드백 수정 완료. 브라우저 QA 해주세요.' --mode now
```
