<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ì½”ë“œ ë¦¬ë·°: ë‰´ìŠ¤ë ˆí„° Structured JSON Output | 2026-02-17</title>
<style>
  @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font-family: 'Pretendard', -apple-system, sans-serif; background: #f8f9fa; color: #1a1a2e; line-height: 1.7; }
  .container { max-width: 960px; margin: 0 auto; padding: 40px 24px; }

  /* Header */
  .header { background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); color: #fff; padding: 48px 40px; border-radius: 16px; margin-bottom: 32px; }
  .header h1 { font-size: 28px; font-weight: 700; margin-bottom: 8px; }
  .header .subtitle { font-size: 15px; color: #a0aec0; }
  .meta { display: flex; gap: 24px; margin-top: 20px; font-size: 13px; color: #cbd5e0; }
  .meta span { display: flex; align-items: center; gap: 6px; }

  /* Badges */
  .badge { display: inline-block; padding: 3px 10px; border-radius: 6px; font-size: 12px; font-weight: 600; letter-spacing: 0.5px; }
  .badge-pass { background: #d4edda; color: #155724; }
  .badge-warn { background: #fff3cd; color: #856404; }
  .badge-fail { background: #f8d7da; color: #721c24; }
  .badge-info { background: #d1ecf1; color: #0c5460; }

  /* Executive Summary */
  .exec-summary { background: #fff; border-radius: 12px; padding: 32px; margin-bottom: 24px; box-shadow: 0 1px 3px rgba(0,0,0,0.08); }
  .exec-summary h2 { font-size: 20px; font-weight: 700; margin-bottom: 20px; color: #1a1a2e; }
  .summary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; }
  .summary-card { border: 1px solid #e2e8f0; border-radius: 10px; padding: 20px; text-align: center; }
  .summary-card .label { font-size: 13px; color: #718096; margin-bottom: 8px; }
  .summary-card .value { font-size: 18px; font-weight: 700; }

  /* Section */
  .section { background: #fff; border-radius: 12px; padding: 32px; margin-bottom: 24px; box-shadow: 0 1px 3px rgba(0,0,0,0.08); }
  .section h2 { font-size: 20px; font-weight: 700; margin-bottom: 6px; display: flex; align-items: center; gap: 10px; }
  .section .section-desc { font-size: 14px; color: #718096; margin-bottom: 20px; }
  .section h3 { font-size: 16px; font-weight: 600; margin: 20px 0 10px; color: #2d3748; }

  /* Tables */
  table { width: 100%; border-collapse: collapse; margin: 16px 0; font-size: 14px; }
  th { background: #f7fafc; text-align: left; padding: 10px 12px; font-weight: 600; color: #4a5568; border-bottom: 2px solid #e2e8f0; }
  td { padding: 10px 12px; border-bottom: 1px solid #edf2f7; vertical-align: top; }
  tr:hover td { background: #f7fafc; }
  .col-status { width: 100px; text-align: center; }
  .col-file { font-family: 'SF Mono', 'Fira Code', monospace; font-size: 12px; color: #718096; }

  /* Code */
  code { font-family: 'SF Mono', 'Fira Code', monospace; font-size: 13px; background: #f1f5f9; padding: 2px 6px; border-radius: 4px; color: #e53e3e; }
  pre { background: #1a1a2e; color: #e2e8f0; padding: 20px; border-radius: 10px; overflow-x: auto; font-size: 13px; line-height: 1.6; margin: 12px 0; }
  pre code { background: none; color: inherit; padding: 0; }

  /* Alert boxes */
  .alert { padding: 16px 20px; border-radius: 10px; margin: 16px 0; font-size: 14px; }
  .alert-danger { background: #fff5f5; border-left: 4px solid #F75D5D; }
  .alert-warning { background: #fffbeb; border-left: 4px solid #f59e0b; }
  .alert-info { background: #eff6ff; border-left: 4px solid #3b82f6; }
  .alert-success { background: #f0fdf4; border-left: 4px solid #22c55e; }
  .alert strong { display: block; margin-bottom: 4px; }

  /* Checklist */
  .checklist { list-style: none; padding: 0; }
  .checklist li { padding: 8px 0; border-bottom: 1px solid #f1f5f9; font-size: 14px; display: flex; align-items: flex-start; gap: 8px; }
  .checklist li::before { content: ''; display: inline-block; width: 18px; height: 18px; border: 2px solid #cbd5e0; border-radius: 4px; flex-shrink: 0; margin-top: 2px; }
  .checklist li.checked::before { background: #22c55e; border-color: #22c55e; background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3E%3C/svg%3E"); background-size: 12px; background-repeat: no-repeat; background-position: center; }

  /* Recommendation table */
  .rec-table td:first-child { font-weight: 600; white-space: nowrap; width: 60px; }
  .rec-table .priority-high { color: #F75D5D; }
  .rec-table .priority-med { color: #f59e0b; }
  .rec-table .priority-low { color: #3b82f6; }

  /* Footer */
  .footer { text-align: center; padding: 32px; color: #a0aec0; font-size: 12px; }
  .footer a { color: #F75D5D; text-decoration: none; }

  /* Accent color */
  .accent { color: #F75D5D; }
</style>
</head>
<body>
<div class="container">

  <!-- Header -->
  <div class="header">
    <h1>ì½”ë“œ ë¦¬ë·°: ë‰´ìŠ¤ë ˆí„° Structured JSON Output</h1>
    <div class="subtitle">TASK.md T1~T4 ê¸°ì¡´ ì½”ë“œ í˜¸í™˜ì„± ì‚¬ì „ ë¦¬ë·°</div>
    <div class="meta">
      <span>2026-02-17</span>
      <span>ë¦¬ë·°ì–´: Claude Agent Team</span>
      <span>ëŒ€ìƒ: TASK.md (ë‰´ìŠ¤ë ˆí„° AI ì¶œë ¥ êµ¬ì¡°í™”)</span>
    </div>
  </div>

  <!-- Executive Summary -->
  <div class="exec-summary">
    <h2>Executive Summary</h2>
    <div class="summary-grid">
      <div class="summary-card">
        <div class="label">T1: Zod ìŠ¤í‚¤ë§ˆ í˜¸í™˜ì„±</div>
        <div class="value"><span class="badge badge-warn">WARN</span></div>
        <div style="font-size:12px;color:#718096;margin-top:8px;">í•„ë“œëª… ë¶ˆì¼ì¹˜ 3ê±´</div>
      </div>
      <div class="summary-card">
        <div class="label">T2: í”„ë¡¬í”„íŠ¸ êµ¬ì¡°</div>
        <div class="value"><span class="badge badge-warn">WARN</span></div>
        <div style="font-size:12px;color:#718096;margin-top:8px;">JSON ì¶”ì¶œ fallback ë¯¸ëª…ì‹œ</div>
      </div>
      <div class="summary-card">
        <div class="label">T3: ì¬ì‹œë„ ë¡œì§</div>
        <div class="value"><span class="badge badge-fail">FAIL</span></div>
        <div style="font-size:12px;color:#718096;margin-top:8px;">í´ë°± ì‹œ ë°ì´í„° ì˜¤ì—¼ ìœ„í—˜</div>
      </div>
      <div class="summary-card">
        <div class="label">T4: ë³€í™˜ í•¨ìˆ˜</div>
        <div class="value"><span class="badge badge-pass">PASS</span></div>
        <div style="font-size:12px;color:#718096;margin-top:8px;">ì¡°ê±´ë¶€ í†µê³¼ (í¬ë§· ì¤€ìˆ˜ ì‹œ)</div>
      </div>
    </div>
  </div>

  <!-- T1: Zod Schema -->
  <div class="section">
    <h2><span class="badge badge-warn">WARN</span> T1. Zod ìŠ¤í‚¤ë§ˆ â€” ê¸°ì¡´ ì¸í„°í˜ì´ìŠ¤ í˜¸í™˜ì„±</h2>
    <div class="section-desc">TASK.mdì— ì •ì˜ëœ Zod ìŠ¤í‚¤ë§ˆ í•„ë“œê°€ <code>newsletter-section-types.ts</code>ì˜ ê¸°ì¡´ ì¸í„°í˜ì´ìŠ¤ì™€ í˜¸í™˜ë˜ëŠ”ì§€ ê²€ì¦</div>

    <table>
      <thead>
        <tr>
          <th>Zod ìŠ¤í‚¤ë§ˆ í•„ë“œ</th>
          <th>ê¸°ì¡´ ì¸í„°í˜ì´ìŠ¤ í•„ë“œ</th>
          <th>íŒŒì¼:ë¼ì¸</th>
          <th class="col-status">ìƒíƒœ</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>insight.tipBox</code> <span class="badge badge-info">string</span></td>
          <td><code>InsightFields.tip</code> <span class="badge badge-info">string?</span></td>
          <td class="col-file">newsletter-section-types.ts:11</td>
          <td class="col-status"><span class="badge badge-warn">MISMATCH</span></td>
        </tr>
        <tr>
          <td><code>interview.quotes[].author</code></td>
          <td><code>InterviewQuote.source</code></td>
          <td class="col-file">newsletter-section-types.ts:56</td>
          <td class="col-status"><span class="badge badge-warn">MISMATCH</span></td>
        </tr>
        <tr>
          <td><code>lecturePreview.tags</code> <span class="badge badge-info">string[]</span></td>
          <td><code>ImagePlaceholderFields.tags</code> <span class="badge badge-info">string?</span></td>
          <td class="col-file">newsletter-section-types.ts:65</td>
          <td class="col-status"><span class="badge badge-warn">TYPE DIFF</span></td>
        </tr>
        <tr>
          <td><code>schedule.{date,format,fee,participation}</code></td>
          <td><code>ScheduleTableFields.rows: ScheduleRow[]</code></td>
          <td class="col-file">newsletter-section-types.ts:36</td>
          <td class="col-status"><span class="badge badge-warn">STRUCT DIFF</span></td>
        </tr>
        <tr>
          <td><code>performance.tables[].rows[].metric/before/after</code></td>
          <td><code>BATableRow.metric/before/after</code></td>
          <td class="col-file">newsletter-section-types.ts:40-42</td>
          <td class="col-status"><span class="badge badge-pass">OK</span></td>
        </tr>
        <tr>
          <td><code>keyPoint.items[].title/desc</code></td>
          <td><code>NumberedCardItem.title/desc</code></td>
          <td class="col-file">newsletter-section-types.ts:14-15</td>
          <td class="col-status"><span class="badge badge-pass">OK</span></td>
        </tr>
        <tr>
          <td><code>checklist.items: string[]</code></td>
          <td><code>ChecklistFields.items: string[]</code></td>
          <td class="col-file">newsletter-section-types.ts:24</td>
          <td class="col-status"><span class="badge badge-pass">OK</span></td>
        </tr>
      </tbody>
    </table>

    <div class="alert alert-warning">
      <strong>ì˜í–¥ ë²”ìœ„</strong>
      T4ì˜ <code>convertJsonToEmailSummary()</code>ê°€ JSONâ†’ë§ˆí¬ë‹¤ìš´ ë³€í™˜ë§Œ ë‹´ë‹¹í•˜ë¯€ë¡œ, í•„ë“œëª… ì°¨ì´ëŠ” ë³€í™˜ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ë§¤í•‘í•˜ë©´ í•´ê²°ë©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ í–¥í›„ JSONâ†’SectionFields ì§ì ‘ ë³€í™˜ ê²½ë¡œë¥¼ ì¶”ê°€í•  ê²½ìš°, ì´ 3ê±´ì˜ ë¶ˆì¼ì¹˜ê°€ ëŸ°íƒ€ì„ ë²„ê·¸ë¥¼ ìœ ë°œí•©ë‹ˆë‹¤.
    </div>

    <h3>ê¶Œê³ ì‚¬í•­</h3>
    <ul class="checklist">
      <li>Zod ìŠ¤í‚¤ë§ˆ í•„ë“œëª…ì„ ê¸°ì¡´ ì¸í„°í˜ì´ìŠ¤ì— ë§ì¶œ ê²ƒ: <code>tipBox â†’ tip</code>, <code>author â†’ source</code></li>
      <li><code>lecturePreview.tags</code>ë¥¼ <code>z.string()</code>ìœ¼ë¡œ ë³€ê²½í•˜ê±°ë‚˜, ë³€í™˜ ì‹œ <code>.join(" Â· ")</code> ëª…ì‹œ</li>
      <li><code>schedule</code>ì˜ 4ê°œ ê³ ì • í•„ë“œ â†’ <code>ScheduleRow[]</code> ë³€í™˜ ë¡œì§ì„ T4ì— ëª…ì‹œ (<code>[{label:"ğŸ“… ì¼ì‹œ", value: date}, ...]</code>)</li>
    </ul>
  </div>

  <!-- T2: Prompt Structure -->
  <div class="section">
    <h2><span class="badge badge-warn">WARN</span> T2. AI í”„ë¡¬í”„íŠ¸ êµ¬ì¡° â€” JSON ì¶œë ¥ ë³´ì¥</h2>
    <div class="section-desc">í”„ë¡¬í”„íŠ¸ ì¬ì„¤ê³„ê°€ ì•ˆì •ì ì¸ JSON ì¶œë ¥ì„ ë³´ì¥í•  ìˆ˜ ìˆëŠ”ì§€, êµì°¨ì˜¤ì—¼ ê·œì¹™ì´ ì¤€ìˆ˜ë˜ëŠ”ì§€ ê²€ì¦</div>

    <h3>êµì°¨ì˜¤ì—¼ ê²€ì¦ (education ìš©ì–´ ê²©ë¦¬)</h3>
    <div class="alert alert-success">
      <strong>PASS</strong>
      ê° íƒ€ì…ë³„ ìŠ¤í‚¤ë§ˆ í•„ë“œëª…ì´ ì™„ì „íˆ ë¶„ë¦¬ë˜ì–´ ìˆì–´ êµì°¨ì˜¤ì—¼ ìœ„í—˜ ì—†ìŒ:
      <br>- Education: <code>insight</code>, <code>keyPoint</code>, <code>checklist</code>
      <br>- Webinar: <code>lecturePreview</code>, <code>coreTopics</code>, <code>targetAudience</code>, <code>schedule</code>
      <br>- Case Study: <code>performance</code>, <code>interview</code>, <code>coreChanges</code>
    </div>

    <h3>JSON ì¶œë ¥ ì•ˆì •ì„±</h3>
    <div class="alert alert-warning">
      <strong>ë¦¬ìŠ¤í¬: <code>```json</code> ë¸”ë¡ ì¶”ì¶œ ì‹¤íŒ¨ ê°€ëŠ¥</strong>
      LLMì€ JSON ì•ë’¤ì— ì„¤ëª… í…ìŠ¤íŠ¸ë¥¼ ì¶”ê°€í•˜ëŠ” ê²½ìš°ê°€ ë¹ˆë²ˆí•©ë‹ˆë‹¤. TASK.mdëŠ” <code>```json ... ```</code> ë¸”ë¡ ì¶”ì¶œë§Œ ëª…ì‹œí–ˆìœ¼ë‚˜, ë‹¤ìŒ fallbackì´ í•„ìš”í•©ë‹ˆë‹¤:
      <br>1. ì •ê·œì‹ <code>/```json\s*([\s\S]*?)```/</code>ìœ¼ë¡œ ì¶”ì¶œ ì‹œë„
      <br>2. ì‹¤íŒ¨ ì‹œ ì „ì²´ ì‘ë‹µì— <code>JSON.parse()</code> ì§ì ‘ ì‹œë„
      <br>3. ì‹¤íŒ¨ ì‹œ ì‘ë‹µì—ì„œ <code>{</code>~<code>}</code> ë²”ìœ„ ì¶”ì¶œ í›„ <code>JSON.parse()</code> ì‹œë„
    </div>

    <h3>"notice" íƒ€ì… ë§¤í•‘ ëˆ„ë½</h3>
    <div class="alert alert-warning">
      <strong>ëˆ„ë½: <code>getSchemaByType("notice")</code> ë¯¸ì •ì˜</strong>
      ê¸°ì¡´ ì½”ë“œì—ì„œ <code>notice</code>ëŠ” <code>webinar</code>ì™€ ë™ì¼í•œ ë°°ë„ˆí‚¤ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤ (<code>validateBannerKeys</code>:637, <code>TEMPLATE_KEY_ORDER</code>:37). <code>getSchemaByType</code>ì—ì„œ <code>notice â†’ WebinarOutputSchema</code> í´ë°±ì´ í•„ìš”í•©ë‹ˆë‹¤.
    </div>

    <h3>ê¸°ì¡´ ksGenerate ì¸í„°í˜ì´ìŠ¤ í˜¸í™˜</h3>
    <div class="alert alert-success">
      <strong>PASS</strong>
      <code>systemPromptOverride</code>ë¥¼ JSON ìƒì„±ê¸° í”„ë¡¬í”„íŠ¸ë¡œ êµì²´í•´ë„ <code>ksGenerate()</code> í˜¸ì¶œ ì‹œê·¸ë‹ˆì²˜ ë³€ê²½ ì—†ìŒ. <code>query</code>, <code>consumerType: "newsletter"</code>, <code>limit: 0</code> êµ¬ì¡° ìœ ì§€.
    </div>
  </div>

  <!-- T3: Retry Logic -->
  <div class="section">
    <h2><span class="badge badge-fail">FAIL</span> T3. ì¬ì‹œë„ ë¡œì§ â€” í´ë°± ì „ëµ ê²°í•¨</h2>
    <div class="section-desc">ìƒˆ JSON ê¸°ë°˜ ì¬ì‹œë„ ë¡œì§ì´ ê¸°ì¡´ <code>generateEmailSummary</code> êµ¬ì¡°ì™€ í˜¸í™˜ë˜ëŠ”ì§€, í´ë°± ì‹œë‚˜ë¦¬ì˜¤ê°€ ì•ˆì „í•œì§€ ê²€ì¦</div>

    <h3>êµ¬ì¡° í˜¸í™˜ì„±</h3>
    <div class="alert alert-success">
      <strong>PASS</strong>
      ê¸°ì¡´ <code>for (attempt 1..3)</code> ë£¨í”„ êµ¬ì¡°ë¥¼ ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ë©´ì„œ ë‚´ë¶€ ê²€ì¦ ë¡œì§ë§Œ êµì²´. return íƒ€ì…ë„ <code>{ emailSummary } | { error }</code>ë¡œ ë™ì¼.
    </div>

    <h3>Zod ì—ëŸ¬ â†’ ì¬ì‹œë„ í”¼ë“œë°±</h3>
    <div class="alert alert-success">
      <strong>PASS</strong>
      ê¸°ì¡´: <code>forbidden/missing</code> ë°°ë„ˆí‚¤ ë©”ì‹œì§€ â†’ ìƒˆ: Zod ì—ëŸ¬ ë©”ì‹œì§€. ë‘˜ ë‹¤ <code>retryFeedback</code> ë¬¸ìì—´ë¡œ <code>query</code>ì— ì¶”ê°€ë˜ë¯€ë¡œ ì¸í„°í˜ì´ìŠ¤ ë³€ê²½ ì—†ìŒ.
    </div>

    <h3>í´ë°± ì‹œ ë°ì´í„° ì˜¤ì—¼ (ì¹˜ëª…ì )</h3>
    <div class="alert alert-danger">
      <strong>CRITICAL: 3íšŒ ì‹¤íŒ¨ ì‹œ email_summaryì— ê¹¨ì§„ JSON ì €ì¥</strong>
      í˜„ì¬ ì½”ë“œ(L896-904)ëŠ” <code>lastEmailSummary</code>ë¥¼ ë¬´ì¡°ê±´ DBì— ì €ì¥í•©ë‹ˆë‹¤. ìƒˆ í”„ë¡¬í”„íŠ¸ê°€ JSON ì¶œë ¥ì„ ìš”êµ¬í•˜ë¯€ë¡œ, 3íšŒ ëª¨ë‘ Zod ê²€ì¦ ì‹¤íŒ¨ ì‹œ <code>lastEmailSummary</code>ì—ëŠ” ë¶€ë¶„ JSON ë˜ëŠ” ê¹¨ì§„ JSONì´ ë“¤ì–´ê°‘ë‹ˆë‹¤.
    </div>

    <p style="margin-top: 12px;">ì´ ê¹¨ì§„ JSONì´ <code>email_summary</code>ì— ì €ì¥ë˜ë©´:</p>

    <pre><code>// parseSummaryToSectionsì´ ### í—¤ë”©ì„ ì°¾ì§€ ëª»í•¨
parseSummaryToSections('{"hook":"...", "insight": {...}}')
â†’ { hookLine: "", sections: [{ key: "", content: '{"hook":"...' }] }
// â†’ ì „ì²´ê°€ ë‹¨ì¼ ë¬´í‚¤ ì„¹ì…˜ â†’ ë Œë”ë§ ê¹¨ì§</code></pre>

    <h3>ê¶Œê³ : ì•ˆì „í•œ í´ë°± ì „ëµ</h3>
    <table>
      <thead>
        <tr><th>ì˜µì…˜</th><th>ì„¤ëª…</th><th>ê¶Œì¥</th></tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>A</strong></td>
          <td>3íšŒ ì‹¤íŒ¨ ì‹œ ê¸°ì¡´ ë§ˆí¬ë‹¤ìš´ í”„ë¡¬í”„íŠ¸ë¡œ 4ë²ˆì§¸ í˜¸ì¶œ (í´ë°± ì „ìš©)</td>
          <td><span class="badge badge-pass">ê¶Œì¥</span></td>
        </tr>
        <tr>
          <td><strong>B</strong></td>
          <td>3íšŒ ì‹¤íŒ¨ ì‹œ DB ì €ì¥í•˜ì§€ ì•Šê³  <code>{ error: "JSON ë³€í™˜ ì‹¤íŒ¨" }</code> ë°˜í™˜</td>
          <td><span class="badge badge-info">ëŒ€ì•ˆ</span></td>
        </tr>
        <tr>
          <td><strong>C</strong></td>
          <td>ë§ˆì§€ë§‰ raw JSONì—ì„œ ê°€ëŠ¥í•œ í•„ë“œë§Œ ì¶”ì¶œí•˜ì—¬ ë¶€ë¶„ ë³€í™˜ í›„ ì €ì¥</td>
          <td><span class="badge badge-warn">ë¹„ê¶Œì¥</span></td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- T4: Conversion Function -->
  <div class="section">
    <h2><span class="badge badge-pass">PASS</span> T4. ë³€í™˜ í•¨ìˆ˜ â€” validateBannerKeys í†µê³¼</h2>
    <div class="section-desc"><code>convertJsonToEmailSummary()</code> ì¶œë ¥ì´ <code>validateBannerKeys()</code>ì™€ <code>parseSectionFields()</code>ë¥¼ í†µê³¼í•˜ëŠ”ì§€ ê²€ì¦</div>

    <h3>ë°°ë„ˆí‚¤ ë§¤ì¹­ ê²€ì¦</h3>
    <table>
      <thead>
        <tr><th>íƒ€ì…</th><th>ë³€í™˜ ì¶œë ¥ í—¤ë”©</th><th>expectedByType</th><th>ìƒíƒœ</th></tr>
      </thead>
      <tbody>
        <tr>
          <td>education</td>
          <td><code>### INSIGHT</code>, <code>### KEY POINT</code>, <code>### CHECKLIST</code></td>
          <td>["INSIGHT", "KEY POINT", "CHECKLIST"]</td>
          <td><span class="badge badge-pass">ì¼ì¹˜</span></td>
        </tr>
        <tr>
          <td>webinar</td>
          <td><code>### ê°•ì˜ ë¯¸ë¦¬ë³´ê¸°</code>, <code>### í•µì‹¬ ì£¼ì œ</code>, <code>### ì´ëŸ° ë¶„ë“¤ì„ ìœ„í•´</code>, <code>### ì›¨ë¹„ë‚˜ ì¼ì •</code></td>
          <td>["ê°•ì˜ ë¯¸ë¦¬ë³´ê¸°", "í•µì‹¬ ì£¼ì œ", "ì´ëŸ° ë¶„ë“¤ì„ ìœ„í•´", "ì›¨ë¹„ë‚˜ ì¼ì •"]</td>
          <td><span class="badge badge-pass">ì¼ì¹˜</span></td>
        </tr>
        <tr>
          <td>case_study</td>
          <td><code>### ì„±ê³¼</code>, <code>### INTERVIEW</code>, <code>### í•µì‹¬ ë³€í™”</code></td>
          <td>["ì„±ê³¼", "INTERVIEW", "í•µì‹¬ ë³€í™”"]</td>
          <td><span class="badge badge-pass">ì¼ì¹˜</span></td>
        </tr>
      </tbody>
    </table>

    <h3>parseSectionFields íŒŒì‹± í˜¸í™˜ â€” í¬ë§· ìš”êµ¬ì‚¬í•­</h3>
    <p style="font-size:14px;color:#4a5568;margin-bottom:12px;">ë³€í™˜ëœ ë§ˆí¬ë‹¤ìš´ì´ ê¸°ì¡´ íŒŒì„œ(<code>email-template-utils.ts:92-118</code>)ì— ì˜í•´ ì˜¬ë°”ë¥´ê²Œ êµ¬ì¡°í™”ë˜ë ¤ë©´, ê° ì„¹ì…˜ ë‚´ìš©ì´ ë‹¤ìŒ í¬ë§·ì„ ì¤€ìˆ˜í•´ì•¼ í•©ë‹ˆë‹¤:</p>

    <table>
      <thead>
        <tr><th>ë°°ë„ˆí‚¤</th><th>íŒŒì„œ í•¨ìˆ˜</th><th>í•„ìˆ˜ í¬ë§·</th><th>ê·¼ê±°</th></tr>
      </thead>
      <tbody>
        <tr>
          <td><code>INSIGHT</code></td>
          <td><code>parseInsight()</code></td>
          <td><code>## subtitle</code> (##ë¡œ ì‹œì‘) + ë³¸ë¬¸ + <code>> ğŸ’¡ tip</code></td>
          <td>L131: <code>trimmed.startsWith("## ")</code></td>
        </tr>
        <tr>
          <td><code>KEY POINT</code></td>
          <td><code>parseNumberedCards()</code></td>
          <td><code>01. title | desc</code> íŒ¨í„´</td>
          <td>L172: <code>/^\d{1,2}\.\s+(.+?)\s*\|\s*(.+)/</code></td>
        </tr>
        <tr>
          <td><code>CHECKLIST</code></td>
          <td><code>parseChecklist()</code></td>
          <td><code>âœ… item</code> (âœ…ìœ¼ë¡œ ì‹œì‘)</td>
          <td>L223: <code>trimmed.startsWith("âœ…")</code></td>
        </tr>
        <tr>
          <td><code>ê°•ì˜ ë¯¸ë¦¬ë³´ê¸°</code></td>
          <td><code>parseImagePlaceholder()</code></td>
          <td>caption í…ìŠ¤íŠ¸ + íƒœê·¸</td>
          <td>caption í•„ë“œ í•„ìˆ˜</td>
        </tr>
        <tr>
          <td><code>í•µì‹¬ ì£¼ì œ</code></td>
          <td><code>parseNumberedCards()</code></td>
          <td><code>01. title | desc</code> íŒ¨í„´</td>
          <td>parseInsightì™€ ë™ì¼</td>
        </tr>
        <tr>
          <td><code>ì´ëŸ° ë¶„ë“¤ì„ ìœ„í•´</code></td>
          <td><code>parseBulletListFields()</code></td>
          <td><code>- item</code> ë˜ëŠ” <code>â€¢ item</code></td>
          <td>L240: <code>/^[\-â€¢]\s+(.*)/</code></td>
        </tr>
        <tr>
          <td><code>ì›¨ë¹„ë‚˜ ì¼ì •</code></td>
          <td><code>parseScheduleTable()</code></td>
          <td><code>| label | value |</code> ë§ˆí¬ë‹¤ìš´ í…Œì´ë¸”</td>
          <td>L257: <code>/^\|.+\|/</code></td>
        </tr>
        <tr>
          <td><code>INTERVIEW</code></td>
          <td><code>parseInterview()</code></td>
          <td><code>> "ì¸ìš©ë¬¸"</code> + <code>> â€” ì¶œì²˜</code></td>
          <td>ì¸ìš© ë¸”ë¡ íŒŒì‹±</td>
        </tr>
        <tr>
          <td><code>ì„±ê³¼</code></td>
          <td><code>parseBATables()</code></td>
          <td><code>#### ì†Œì œëª©</code> + <code>| ì§€í‘œ | Before | After |</code></td>
          <td>BA í…Œì´ë¸” íŒŒì‹±</td>
        </tr>
        <tr>
          <td><code>í•µì‹¬ ë³€í™”</code></td>
          <td><code>parseNumberedCards()</code></td>
          <td><code>01. title | desc</code> íŒ¨í„´</td>
          <td>KEY POINTì™€ ë™ì¼</td>
        </tr>
      </tbody>
    </table>

    <div class="alert alert-info">
      <strong>ê²°ë¡ </strong>
      TASK.mdì˜ ë³€í™˜ ê·œì¹™(L148-151)ì´ ìœ„ í¬ë§·ì„ ì •í™•íˆ ì¤€ìˆ˜í•˜ê³  ìˆìŠµë‹ˆë‹¤. êµ¬í˜„ ì‹œ ê° ì„¹ì…˜ë³„ ë§ˆí¬ë‹¤ìš´ í¬ë§·ì´ ì •í™•íˆ ì¼ì¹˜í•˜ëŠ”ì§€ ìœ ë‹› í…ŒìŠ¤íŠ¸ë¡œ ê²€ì¦í•  ê²ƒì„ ê¶Œê³ í•©ë‹ˆë‹¤.
    </div>
  </div>

  <!-- T5: Risks & Dependencies -->
  <div class="section">
    <h2><span class="badge badge-fail">4ê±´</span> ëˆ„ë½ëœ ë¦¬ìŠ¤í¬ ë° ì˜ì¡´ì„±</h2>
    <div class="section-desc">TASK.mdì— ëª…ì‹œë˜ì§€ ì•Šì•˜ìœ¼ë‚˜ êµ¬í˜„ ì‹œ ë¬¸ì œë¥¼ ì¼ìœ¼í‚¬ ìˆ˜ ìˆëŠ” í•­ëª©</div>

    <div class="alert alert-danger">
      <strong>R1. BANNER_MAP ì´ì¤‘ ì •ì˜ â€” ë™ê¸°í™” ë¶€ì±„</strong>
      <code>email-template-utils.ts:14</code> (13ê°œ í‚¤)ì™€ <code>newsletter-row-templates.ts:20</code> (10ê°œ í‚¤)ì— ê°ê° ëª¨ë“ˆ-í”„ë¼ì´ë¹— <code>BANNER_MAP</code>ì´ ì¡´ì¬í•©ë‹ˆë‹¤. <code>INSIGHT 01/02/03</code>ì´ <code>row-templates</code>ì— ì—†ìŠµë‹ˆë‹¤. í˜„ì¬ T1-T4ì—ì„œ ì´ variant í‚¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì§ì ‘ì  ë¬¸ì œëŠ” ì•„ë‹ˆë‚˜, í–¥í›„ INSIGHTë¥¼ ë¶„í• í•˜ë ¤ë©´ ë™ê¸°í™”ê°€ í•„ìš”í•©ë‹ˆë‹¤.
    </div>

    <div class="alert alert-danger">
      <strong>R2. case_study greeting ì¤‘ë³µ ë Œë”ë§ ìœ„í—˜</strong>
      <code>CaseStudyOutputSchema.greeting</code>ì´ <code>z.string().optional().default("ì•ˆë…•í•˜ì„¸ìš” ëŒ€í‘œë‹˜, ìì‚¬ëª°ì‚¬ê´€í•™êµì…ë‹ˆë‹¤.")</code>ë¡œ ì •ì˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ë³€í™˜ ì‹œ ì´ ê°’ì´ <code>hookLine</code> ì•ë¶€ë¶„ì— ë“¤ì–´ê°€ëŠ”ë°, <code>buildDesignFromSummary</code>ê°€ case_studyì¼ ë•Œ ë³„ë„ë¡œ <code>createGreetingRow()</code>ë¥¼ ì¶”ê°€í•˜ë©´ ì¸ì‚¬ë§ì´ 2ë²ˆ ë Œë”ë§ë©ë‹ˆë‹¤.
      <br><br>
      <strong>ê¶Œê³ :</strong> <code>greeting</code> í•„ë“œë¥¼ ìŠ¤í‚¤ë§ˆì—ì„œ ì œê±°í•˜ê±°ë‚˜, <code>convertJsonToEmailSummary</code>ì—ì„œ case_studyì¼ ë•Œ hookLineì— greetingì„ í¬í•¨í•˜ì§€ ì•Šë„ë¡ ì²˜ë¦¬.
    </div>

    <div class="alert alert-warning">
      <strong>R3. WebinarOutputSchema.lecturePreviewì— caption í•„ë“œ ì—†ìŒ</strong>
      ê¸°ì¡´ <code>ImagePlaceholderFields</code>ëŠ” <code>caption: string</code>ì´ í•„ìˆ˜ì¸ë°, Zod ìŠ¤í‚¤ë§ˆì˜ <code>lecturePreview</code>ì—ëŠ” <code>tags: string[]</code>ë§Œ ìˆìŠµë‹ˆë‹¤. <code>parseSectionFields</code> â†’ <code>parseImagePlaceholder</code>ê°€ caption ì—†ì´ ë™ì‘í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸ í•„ìš”í•©ë‹ˆë‹¤.
      <br><br>
      <strong>ê¶Œê³ :</strong> <code>lecturePreview</code>ì— <code>caption: z.string()</code> í•„ë“œ ì¶”ê°€ ë˜ëŠ” ë³€í™˜ ì‹œ ê¸°ë³¸ê°’ ìƒì„±.
    </div>

    <div class="alert alert-warning">
      <strong>R4. AI ë¹„ìš© â€” ìµœì•… 3íšŒ í˜¸ì¶œ (ë™ì¼ body_md)</strong>
      ì¬ì‹œë„ ì‹œ ë§¤ë²ˆ ì „ì²´ body_mdë¥¼ í¬í•¨í•œ í”„ë¡¬í”„íŠ¸ê°€ ì „ì†¡ë©ë‹ˆë‹¤. body_mdê°€ ê¸´ ì½˜í…ì¸ (4000ì+)ì˜ ê²½ìš° í† í° ë¹„ìš©ì´ 3ë°°ë¡œ ì¦ê°€í•©ë‹ˆë‹¤. TASK.mdì˜ "AI 1íšŒ í˜¸ì¶œ" ì œì•½ê³¼ ì¬ì‹œë„ 3íšŒ ì‚¬ì´ì˜ íŠ¸ë ˆì´ë“œì˜¤í”„ë¥¼ ì¸ì§€í•  ê²ƒ.
    </div>
  </div>

  <!-- Recommendations -->
  <div class="section">
    <h2>ê¶Œê³ ì‚¬í•­ ìš”ì•½</h2>

    <table class="rec-table">
      <thead>
        <tr><th>ìš°ì„ ìˆœìœ„</th><th>í•­ëª©</th><th>ì„¤ëª…</th><th>ëŒ€ìƒ íƒœìŠ¤í¬</th></tr>
      </thead>
      <tbody>
        <tr>
          <td class="priority-high">P0</td>
          <td>í´ë°± ì•ˆì „ì¥ì¹˜</td>
          <td>3íšŒ ì‹¤íŒ¨ ì‹œ ê¹¨ì§„ JSONì„ <code>email_summary</code>ì— ì €ì¥í•˜ì§€ ì•Šë„ë¡ í´ë°± ì „ëµ ì¶”ê°€ (ì˜µì…˜ A ê¶Œì¥: ë§ˆí¬ë‹¤ìš´ í”„ë¡¬í”„íŠ¸ ì¬í˜¸ì¶œ)</td>
          <td>T3</td>
        </tr>
        <tr>
          <td class="priority-high">P0</td>
          <td>greeting ì¤‘ë³µ ë°©ì§€</td>
          <td><code>CaseStudyOutputSchema</code>ì—ì„œ <code>greeting</code> ì œê±° ë˜ëŠ” ë³€í™˜ ì‹œ hookLine ì œì™¸</td>
          <td>T1, T4</td>
        </tr>
        <tr>
          <td class="priority-med">P1</td>
          <td>í•„ë“œëª… í†µì¼</td>
          <td>Zod: <code>tipBoxâ†’tip</code>, <code>authorâ†’source</code> ì´ë¦„ ë³€ê²½</td>
          <td>T1</td>
        </tr>
        <tr>
          <td class="priority-med">P1</td>
          <td>JSON ì¶”ì¶œ fallback</td>
          <td><code>```json```</code> ì¶”ì¶œ ì‹¤íŒ¨ ì‹œ <code>JSON.parse</code> â†’ <code>{...}</code> ë²”ìœ„ ì¶”ì¶œ ìˆœì„œë¡œ fallback ì²´ì¸</td>
          <td>T3</td>
        </tr>
        <tr>
          <td class="priority-med">P1</td>
          <td>notice íƒ€ì… ë§¤í•‘</td>
          <td><code>getSchemaByType("notice")</code> â†’ <code>WebinarOutputSchema</code> í´ë°± ì¶”ê°€</td>
          <td>T1</td>
        </tr>
        <tr>
          <td class="priority-med">P1</td>
          <td>lecturePreview caption</td>
          <td>Zod ìŠ¤í‚¤ë§ˆì— <code>caption</code> í•„ë“œ ì¶”ê°€ ë˜ëŠ” ë³€í™˜ ì‹œ ê¸°ë³¸ê°’ ìƒì„±</td>
          <td>T1, T4</td>
        </tr>
        <tr>
          <td class="priority-low">P2</td>
          <td>BANNER_MAP í†µí•©</td>
          <td>ë‘ íŒŒì¼ì˜ BANNER_MAPì„ ê³µìœ  ëª¨ë“ˆë¡œ ì¶”ì¶œí•˜ì—¬ ë™ê¸°í™” ë¶€ì±„ í•´ì†Œ</td>
          <td>ë³„ë„</td>
        </tr>
        <tr>
          <td class="priority-low">P2</td>
          <td>tags íƒ€ì… í†µì¼</td>
          <td><code>lecturePreview.tags: string[]</code> â†’ ë³€í™˜ ì‹œ <code>.join(" Â· ")</code> ë¡œì§ ëª…ì‹œ ë˜ëŠ” Zodë¥¼ <code>z.string()</code>ìœ¼ë¡œ ë³€ê²½</td>
          <td>T1, T4</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Reference Files -->
  <div class="section">
    <h2>ì°¸ì¡° íŒŒì¼ ëª©ë¡</h2>
    <table>
      <thead>
        <tr><th>íŒŒì¼</th><th>ì—­í• </th><th>ë³€ê²½ ì—¬ë¶€</th></tr>
      </thead>
      <tbody>
        <tr><td class="col-file">src/lib/newsletter-section-types.ts</td><td>ì„¹ì…˜ í•„ë“œ ì¸í„°í˜ì´ìŠ¤ (T0 ê³„ì•½)</td><td><span class="badge badge-info">ì½ê¸° ì „ìš©</span></td></tr>
        <tr><td class="col-file">src/lib/email-template-utils.ts</td><td>parseSummaryToSections, parseSectionFields, validateBannerKeys</td><td><span class="badge badge-info">ì½ê¸° ì „ìš©</span></td></tr>
        <tr><td class="col-file">src/lib/newsletter-row-templates.ts</td><td>createSectionContentRows, BANNER_MAP (10ê°œ)</td><td><span class="badge badge-info">ì½ê¸° ì „ìš©</span></td></tr>
        <tr><td class="col-file">src/actions/contents.ts</td><td>generateEmailSummary (L707-914)</td><td><span class="badge badge-warn">T2, T3 ìˆ˜ì •</span></td></tr>
        <tr><td class="col-file">src/lib/newsletter-schemas.ts</td><td>Zod ìŠ¤í‚¤ë§ˆ + ë³€í™˜ í•¨ìˆ˜</td><td><span class="badge badge-pass">ì‹ ê·œ ìƒì„±</span></td></tr>
      </tbody>
    </table>
  </div>

  <!-- Footer -->
  <div class="footer">
    <p>Generated by Claude Agent Team &middot; QA Helpdesk Project</p>
    <p style="margin-top:4px;">Source: <a href="#">TASK.md</a> &middot; ì´ì „ ë¦¬ë·°: <a href="https://mozzi-reports.vercel.app/reports/review/2026-02-17-newsletter-unlayer-template-v2.html">newsletter-unlayer-template-v2</a></p>
  </div>

</div>
</body>
</html>
