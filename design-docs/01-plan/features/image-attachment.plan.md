# 질문 이미지 첨부 계획서

## 1. 개요
- 기능 설명: 질문 작성 시 이미지를 첨부할 수 있는 기능으로, 시각적 설명이 필요한 기술적 문제나 설정 화면을 공유할 수 있게 함
- 해결하려는 문제:
  - 텍스트로만 설명하기 어려운 기술적 문제의 소통 어려움
  - 화면 캡처나 설정 화면 공유의 필요성
  - 질문의 이해도 향상을 통한 정확한 답변 제공

## 2. 핵심 요구사항

### 기능적 요구사항
- FR-01: 질문 작성 시 최대 5개의 이미지를 첨부할 수 있어야 한다
- FR-02: 지원 이미지 형식은 JPG, PNG, GIF, WebP이어야 한다
- FR-03: 개별 이미지 크기는 최대 5MB로 제한해야 한다
- FR-04: 이미지는 Supabase Storage에 안전하게 저장되어야 한다
- FR-05: 첨부된 이미지는 질문 상세 페이지에서 확대 가능해야 한다
- FR-06: 이미지 업로드 진행률을 사용자에게 표시해야 한다
- FR-07: 이미지 첨부 중 오류 발생 시 적절한 피드백을 제공해야 한다

### 비기능적 요구사항
- 성능: 이미지 업로드 시간 < 10초 (5MB 기준)
- 보안: 업로드된 이미지의 악성코드 차단
- 저장: 이미지 URL은 questions.image_urls 배열에 저장

## 3. 용어 정의

| 용어 | 영문 | 설명 |
|------|------|------|
| 이미지 첨부 | Image Attachment | 질문에 이미지 파일을 연결하는 기능 |
| 스토리지 버킷 | Storage Bucket | Supabase Storage의 파일 저장 공간 |
| 이미지 URL | Image URL | 업로드된 이미지의 접근 가능한 웹 주소 |
| 미리보기 | Preview | 업로드 전 이미지를 화면에 표시하는 기능 |
| 이미지 최적화 | Image Optimization | 웹 표시에 적합하도록 이미지 크기/품질 조정 |

## 4. 범위

### 포함
- 드래그 앤 드롭 이미지 업로드
- 파일 선택 대화상자를 통한 업로드
- 이미지 미리보기 기능
- 업로드 진행률 표시
- 이미지 삭제 기능
- 첨부된 이미지 표시 및 확대 뷰
- Supabase Storage 연동

### 제외
- 이미지 편집 기능 (크롭, 필터 등)
- 이미지 자동 압축
- 이미지 메타데이터 추출
- OCR (이미지 내 텍스트 인식)
- 동영상 파일 첨부

## 5. 성공 기준

- [ ] 질문 작성 폼에서 이미지를 첨부할 수 있다
- [ ] 드래그 앤 드롭으로 이미지를 업로드할 수 있다
- [ ] 업로드 중 진행률이 표시된다
- [ ] 지원되지 않는 파일 형식에 대해 오류 메시지가 표시된다
- [ ] 크기 제한을 초과한 파일에 대해 오류 메시지가 표시된다
- [ ] 업로드된 이미지가 Supabase Storage에 저장된다
- [ ] 이미지 URL이 questions.image_urls 배열에 저장된다
- [ ] 질문 상세 페이지에서 첨부된 이미지가 표시된다
- [ ] 이미지 클릭 시 확대 뷰가 동작한다
- [ ] 업로드 실패 시 적절한 오류 메시지가 표시된다