<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>뉴스레터 디테일 수정 기획서 v6</title>
<style>
  body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; max-width: 900px; margin: 40px auto; padding: 0 20px; color: #1a1a1a; line-height: 1.6; background: #fafafa; }
  h1 { font-size: 24px; border-bottom: 3px solid #F75D5D; padding-bottom: 12px; }
  h2 { font-size: 18px; color: #F75D5D; margin-top: 40px; border-left: 4px solid #F75D5D; padding-left: 12px; }
  h3 { font-size: 15px; color: #333; margin-top: 24px; }
  .card { background: #fff; border: 1px solid #e5e7eb; border-radius: 8px; padding: 20px; margin: 16px 0; }
  .tag { display: inline-block; padding: 2px 8px; border-radius: 4px; font-size: 12px; font-weight: 700; margin-right: 6px; }
  .tag-all { background: #F75D5D; color: #fff; }
  .tag-webinar { background: #3B82F6; color: #fff; }
  .tag-case { background: #22C55E; color: #fff; }
  .tag-confirm { background: #F59E0B; color: #fff; }
  .before-after { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 16px 0; }
  .before-after > div { padding: 16px; border-radius: 8px; }
  .before { background: #fef2f2; border: 1px solid #F75D5D; }
  .after { background: #f0fdf4; border: 1px solid #22C55E; }
  .before h4 { color: #dc2626; margin: 0 0 8px; font-size: 13px; }
  .after h4 { color: #16a34a; margin: 0 0 8px; font-size: 13px; }
  code { background: #f1f5f9; padding: 2px 6px; border-radius: 3px; font-size: 13px; }
  table { width: 100%; border-collapse: collapse; margin: 12px 0; font-size: 14px; }
  th { background: #f1f5f9; text-align: left; padding: 8px 12px; border: 1px solid #e5e7eb; }
  td { padding: 8px 12px; border: 1px solid #e5e7eb; }
  .priority { font-weight: 700; }
  .p-high { color: #dc2626; }
  .p-med { color: #F59E0B; }
  .mockup-banner { max-width: 400px; height: 60px; line-height: 60px; background: linear-gradient(135deg, #F75D5D 0%, #E54949 60%, transparent 60%); border-radius: 4px 0 0 4px; padding-left: 24px; color: #fff; font-size: 16px; font-weight: 700; letter-spacing: 1px; margin: 8px 0; }
  .file-path { font-family: monospace; font-size: 12px; color: #64748b; background: #f8fafc; padding: 4px 8px; border-radius: 3px; }
</style>
</head>
<body>

<h1>뉴스레터 디테일 수정 기획서 v6</h1>
<p><strong>날짜:</strong> 2026-02-18 | <strong>작성:</strong> 모찌 | <strong>대상:</strong> qa-helpdesk 뉴스레터 3종</p>

<h2>1. 이슈 목록</h2>

<table>
<tr>
  <th>ID</th><th>범위</th><th>문제</th><th>우선순위</th><th>상태</th>
</tr>
<tr>
  <td>F1</td>
  <td><span class="tag tag-all">전체</span></td>
  <td><strong>배너 이미지 텍스트 밀림</strong> — PNG 이미지 안에 텍스트가 베이크돼 모바일에서 잘림/밀림. CSS gradient+HTML 텍스트로 전환</td>
  <td class="priority p-high">HIGH</td>
  <td>수정 예정</td>
</tr>
<tr>
  <td>F2</td>
  <td><span class="tag tag-all">전체</span></td>
  <td><strong>Farewell 텍스트 삭제</strong> — "더 깊은 실전 노하우가~" + "감사합니다. 자사몰사관학교 드림" 3종 전부 제거</td>
  <td class="priority p-high">HIGH</td>
  <td>수정 예정</td>
</tr>
<tr>
  <td>F3</td>
  <td><span class="tag tag-all">전체</span></td>
  <td><strong>로고 변경</strong> — 현재 logo-email-v4.png → 새 로고로 교체 필요 (Smith님 확인 필요)</td>
  <td class="priority p-med">MEDIUM</td>
  <td>로고 파일 확인 필요</td>
</tr>
<tr>
  <td>F4</td>
  <td><span class="tag tag-all">전체</span></td>
  <td><strong>재생성 후 즉시 반영</strong> — 재생성 버튼 클릭 후 페이지 리로드 또는 에디터 자동 갱신</td>
  <td class="priority p-med">MEDIUM</td>
  <td>수정 예정</td>
</tr>
<tr>
  <td>W1</td>
  <td><span class="tag tag-webinar">웨비나</span> <span class="tag tag-confirm">컨펌</span></td>
  <td><strong>hookLine 질문 강조</strong> — "왜 같은 예산을 써도~?" 질문이 너무 작음. 중간정렬+볼드로 강조 후 답변 분리. AI가 질문→답변 구조로 쓰는 이유 파악 필요</td>
  <td class="priority p-med">MEDIUM</td>
  <td>분석 완료, 옵션 제시</td>
</tr>
<tr>
  <td>C1</td>
  <td><span class="tag tag-case">고객사례</span></td>
  <td><strong>"안녕하세요 대표님..." 삭제</strong> — createGreetingRow() 제거</td>
  <td class="priority p-high">HIGH</td>
  <td>수정 예정</td>
</tr>
<tr>
  <td>C2</td>
  <td><span class="tag tag-case">고객사례</span></td>
  <td><strong>배너 디자인 톤앤매너 통일</strong> — 고객사례 배너가 교육/웨비나와 다른 스타일. CSS 통일</td>
  <td class="priority p-med">MEDIUM</td>
  <td>F1과 함께 해결</td>
</tr>
</table>

<h2>2. F1 — 배너 CSS 전환 (핵심)</h2>

<div class="card">
<h3>현재 (PNG 이미지 — 밀림 발생)</h3>
<p>모든 배너가 <code>BANNER_MAP</code> → <code>banner-*.png</code> (600×120) Supabase 이미지로 렌더링</p>
<p>이미지 안에 "INSIGHT", "KEY POINT" 등 텍스트가 베이크됨 → 모바일 축소 시 텍스트 잘림</p>

<h3>변경 (CSS gradient + HTML 텍스트 — 밀림 없음)</h3>
<p>현재 코드에 이미 CSS fallback이 있음. <strong>BANNER_MAP 매칭을 제거하고 CSS fallback을 기본으로 전환</strong></p>

<div class="before-after">
<div class="before">
<h4>BEFORE (PNG)</h4>
<p><code>type: "image"</code><br>src: banner-insight.png (600×120)<br>→ 모바일: 이미지 축소, 텍스트 뭉개짐</p>
</div>
<div class="after">
<h4>AFTER (CSS)</h4>
<p><code>type: "text"</code><br>CSS gradient background + HTML &lt;span&gt; 텍스트<br>→ 모바일: 텍스트 스케일 유지</p>
<div class="mockup-banner">INSIGHT</div>
<div class="mockup-banner">KEY POINT</div>
<div class="mockup-banner">CHECKLIST</div>
<div class="mockup-banner">강의 미리보기</div>
<div class="mockup-banner">핵심 주제</div>
</div>
</div>

<h3>구현 방법</h3>
<p><span class="file-path">src/lib/email-template-utils.ts</span> — <code>createBannerRow()</code> 함수 수정</p>
<ol>
<li>BANNER_MAP 매칭 분기 삭제 (또는 skip)</li>
<li>모든 배너키가 CSS gradient fallback 경로를 타도록 변경</li>
<li>기존 CSS gradient 스타일을 유지: <code>linear-gradient(135deg, #F75D5D 0%, #E54949 60%, transparent 60%)</code></li>
<li>height: 60~80px, font-size: 16~18px, font-weight: 700, 흰색 텍스트</li>
</ol>
</div>

<h2>3. F2 — Farewell 삭제</h2>

<div class="card">
<p><span class="file-path">src/lib/email-template-utils.ts</span> — <code>buildDesignFromSummary()</code></p>
<ul>
<li><strong>교육:</strong> <code>rows.push(createFarewellRow())</code> 제거 (line ~1005)</li>
<li><strong>웨비나/공지:</strong> farewell 이미 제거됨 (코멘트: "G8: farewell 제거")</li>
<li><strong>고객사례:</strong> farewell 이미 제거됨 (코멘트: "G7: profile, farewell, divider 제거")</li>
</ul>
<p>→ <strong>교육 템플릿에서만 <code>createFarewellRow()</code> 호출 제거</strong></p>
</div>

<h2>4. F3 — 로고 변경</h2>

<div class="card">
<p>현재: <code>logo-email-v4.png</code> (투명배경, 10+마크 빨간 + 자사몰사관학교 검정)</p>
<p><span class="file-path">src/lib/newsletter-row-templates.ts</span> — <code>ROW_LOGO</code> 상수</p>
<p>→ <strong>Smith님 확인: 어떤 로고로 변경? 새 파일 필요 여부</strong></p>
</div>

<h2>5. F4 — 재생성 후 즉시 반영</h2>

<div class="card">
<p><span class="file-path">src/app/(main)/admin/content/[id]/page.tsx</span> — 재생성 완료 후</p>
<p>현재: <code>toast.success("뉴스레터가 생성되었습니다.")</code> → 페이지 상태 갱신 안 됨</p>
<p>수정: <code>loadContent()</code> 호출 후 Unlayer 에디터 <code>loadDesign()</code>까지 재실행</p>
</div>

<h2>6. W1 — hookLine 질문 강조 (컨펌 필요)</h2>

<div class="card">
<h3>AI가 질문→답변 구조로 쓰는 이유</h3>
<p>프롬프트에 <code>"hook": "고객 통점 질문 한 줄"</code>로 정의되어 있음.</p>
<p>hook은 히어로 배너의 subtitle로 들어가고, intro가 본문에서 답변 역할을 함.</p>
<p>현재 히어로 배너에서 hook(질문)이 작은 글씨로 들어가 있어, 질문이 잘 안 보이고 아래 답변(intro)만 눈에 띄는 문제.</p>

<h3>해결 옵션</h3>
<table>
<tr><th>옵션</th><th>설명</th><th>영향</th></tr>
<tr>
<td><strong>A. 히어로 내 질문 강조</strong></td>
<td>히어로 배너에서 hook 텍스트 크기를 키우고 (18→22px), 줄바꿈 후 별도 줄로 분리</td>
<td>히어로 디자인 수정만 필요</td>
</tr>
<tr>
<td><strong>B. 질문을 히어로 밖으로</strong></td>
<td>히어로에는 제목만, hook 질문을 히어로 아래 중앙정렬 볼드로 별도 row</td>
<td>레이아웃 변경, 웨비나 전용 row 추가</td>
</tr>
<tr>
<td><strong>C. 질문→답변 쌍 강조</strong></td>
<td>hook을 22px 중앙정렬 볼드 + intro 앞에 "→" 화살표로 답변 연결</td>
<td>hook/intro 렌더링 수정</td>
</tr>
</table>
<p><strong>권장: 옵션 A</strong> — 최소 변경으로 질문 가시성 개선. 히어로 배너 subtitle 폰트 사이즈만 조정.</p>
</div>

<h2>7. C1 — Greeting 삭제</h2>

<div class="card">
<p><span class="file-path">src/lib/email-template-utils.ts</span> — <code>buildDesignFromSummary()</code> case_study 분기</p>
<p><code>rows.push(createGreetingRow())</code> 제거</p>
<p>"안녕하세요 대표님, 자사몰사관학교의 스미스코치입니다." 완전 삭제</p>
</div>

<h2>8. C2 — 배너 톤앤매너 통일</h2>

<div class="card">
<p>F1(CSS 전환)로 자동 해결됨. 3종 전부 동일한 CSS gradient 배너 사용.</p>
</div>

<h2>9. 수정 범위 요약</h2>

<table>
<tr><th>파일</th><th>수정 내용</th></tr>
<tr>
<td><span class="file-path">src/lib/email-template-utils.ts</span></td>
<td>F1: createBannerRow() PNG→CSS 전환<br>F2: createFarewellRow() 호출 제거 (교육)<br>C1: createGreetingRow() 호출 제거 (고객사례)</td>
</tr>
<tr>
<td><span class="file-path">src/lib/newsletter-row-templates.ts</span></td>
<td>F3: ROW_LOGO 이미지 URL 변경 (로고 확정 후)<br>W1: createHeroRow() subtitle 폰트 사이즈 조정 (컨펌 후)</td>
</tr>
<tr>
<td><span class="file-path">src/app/(main)/admin/content/[id]/page.tsx</span></td>
<td>F4: 재생성 후 loadContent() + loadDesign() 호출</td>
</tr>
</table>

<h2>10. 진행 순서</h2>
<ol>
<li><strong>Smith님 컨펌</strong>: F3(로고 파일), W1(hookLine 옵션 A/B/C)</li>
<li><strong>목업 작성</strong>: CSS 배너 적용된 3종 이메일 HTML 목업</li>
<li><strong>TASK.md 작성</strong> → validate-task.sh</li>
<li><strong>에이전트팀 실행</strong></li>
</ol>

</body>
</html>
